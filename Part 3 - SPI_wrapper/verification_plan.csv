Label,Design Requirement,Description,Stimulus Generation,Functional Coverage,Functionality Check
SPI0,WR-REQ-001: Write transactions,DUT accepts write address/data when SS_n active,Randomized write items: SPI_wrapper_wr_only_seq.sv; SPI_wrapper_wr_rd_seq.sv (fields in SPI_wrapper_seq_item.sv),"SPI_wrapper_coverage.sv coverpoints (MOSI, SS_n); add MO_data[9:8] opcode bins",Scoreboard SPI_wrapper_scoreboard.sv (extend golden_model to check RAM contents)
SPI1,RD-REQ-001: Read transactions,DUT drives read data on MISO and rx_valid on reads,Randomized read items: SPI_wrapper_rd_only_seq.sv; SPI_wrapper_wr_rd_seq.sv (SPI_wrapper_seq_item.sv),"SPI_wrapper_coverage.sv coverpoints (MISO, SS_n); add opcode & data-value bins",Check MISO vs reference (MISO_ref/RAMif.dout_ref) in SPI_wrapper_scoreboard.sv
SPI2,RST-REQ-001: Reset behavior,All outputs quiescent and internal state reset when rst_n asserted,SPI_wrapper_rst_seq.sv and seq_item rst_n constraints (SPI_wrapper_seq_item.sv),SPI_wrapper_coverage.sv rst_n bins (asserted/deasserted); cross with SS_n,SVA reset_a (in SPI_wrapper_sva.sv.bak) and monitor checks; scoreboard should observe no transactions during reset
SPI3,SVA-REQ-001: MISO stability,MISO must remain stable for N cycles after SS_n edge,Triggered by normal sequences (wr/rd) — observed by SPI_wrapper_monitor.sv,coverage: add cross SS_n edge × MISO change bin,Assertion MISO_stable_a in SPI_wrapper_sva.sv (bound via top.sv bind)
SPI4,DRV-REQ-001: Driver timing,Driver applies item fields to DUT at correct clock edges,"Driver SPI_wrapper_driver.sv reads items and drives vif.rst_n, vif.SS_n, vif.MOSI",coverage: driver timing bins / action-on-edge bins (add),Monitor SPI_wrapper_monitor.sv samples signals; add timing checks comparing expected edge vs actual
SPI5,SB-REQ-001: Output correctness,Observed DUT outputs match golden/reference behavior,Monitor outputs via SPI_wrapper_monitor.sv (sends items to analysis ports),Coverage: add bins for expected vs observed data values,Scoreboard SPI_wrapper_scoreboard.sv golden_model (currently compares MISO/MISO_ref — extend to full transaction checks)
SPI6,COV-REQ-001: Coverage completeness,All opcodes and key data ranges exercised,Control sequences (*_seq.sv) randomize MO_data and opcode fields in SPI_wrapper_seq_item.sv,"Add coverpoints for MO_data[9:8] (opcodes), data ranges and crosses in SPI_wrapper_coverage.sv",Use coverage report and add targeted sequences until bin hits reached; scoreboard + SVA to validate behavior
